#!/bin/sh

if [ $# -lt 1 ]; then
    printf "Usage: 'easy-heroku-flask <project name>'\n"
    exit
fi

PROJNAME=$1
mkdir "$PROJNAME" 2>/dev/null
if [ "$?" -ne "0" ]; then
    printf "Unable to create directory '$PROJNAME'- is this valid?\n"
    exit
fi

cd "$PROJNAME"
git init -q

touch README.md
echo "Project generated by 'easy-heroku-flask' for Python 3:\nhttps://github.com/caseyjohnsonwv/easy-heroku-flask" > README.md

touch LICENSE
echo "Go to http://choosealicense.com/ for help choosing a license." > LICENSE

touch requirements.txt
echo "Flask\nflask-sqlalchemy\npsycopg2\ngunicorn" > requirements.txt

touch Procfile
echo "web: gunicorn app:app" > Procfile

touch env.py app.py
touch .env .gitignore
echo ".env\nenv.py\nenv.pyc\n__pycache__" > .gitignore

mkdir "templates"
touch "templates/index.html"

mkdir "static"
touch "static/index.css" "static/index.js"

printf "Flask project '$PROJNAME' created.\n"
